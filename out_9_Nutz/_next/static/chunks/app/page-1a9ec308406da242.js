(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{2994:function(e,t,a){Promise.resolve().then(a.bind(a,7568))},7568:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var l=a(7437),s=a(2265),i=a(2502),n=a(1787),o=a.n(n),d=a(6691),c=a.n(d);a(1361),a(2080);var u=a(8207),m=a(4829),x=a(8278),h=a(1802),g=a(1396),p=a.n(g);a(3034),a(7322),a(4885);var A=a(2601);let f="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'%3E%3Crect fill='%23f3f4f6' width='1200' height='800'/%3E%3Ctext fill='%239ca3af' font-family='Arial, Helvetica, sans-serif' font-size='28' x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'%3EImage not available%3C/text%3E%3C/svg%3E";function v(e){let t=null!=e?e:"";if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:"))return t;let a=(u.Sg||A.env.NEXT_PUBLIC_API_BASE||"").replace(/\/+$/,"");return a?t.startsWith("/")?"".concat(a).concat(t):"".concat(a,"/").concat(t):t}async function b(){try{var e;let t=await m.Z.get("".concat(u.I,"/category/show"),{headers:{"Content-Type":"application/json"}});return Array.isArray(null===(e=t.data)||void 0===e?void 0:e.data)?t.data.data:[]}catch(e){throw e}}function w(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(0),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[x,h]=(0,s.useState)([]),[g,p]=(0,s.useState)(!0),[A,w]=(0,s.useState)(null),y=(0,s.useRef)(null),N=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let e=!1;o(!0),c(null);let a=async()=>{try{var a;let l=await m.Z.get("".concat(u.I,"/list-banners"),{headers:{"Content-Type":"application/json"}});if(e)return;let s=null!==(a=null==l?void 0:l.data)&&void 0!==a?a:null,i=Array.isArray(null==s?void 0:s.data)?s.data:Array.isArray(null==s?void 0:s.banners)?s.banners:Array.isArray(s)?s:[],n=i.filter(e=>e&&(1===e.is_active||!0===e.is_active||"1"===e.is_active)),o=n.length?n:i,d=(o||[]).map(e=>{var t,a,l,s,i,n,o,d;let c=(null==e?void 0:e.redirect_url)?String(e.redirect_url).trim():"",u=c&&(c.startsWith("http://")||c.startsWith("https://")||c.startsWith("data:")),m=u?c:v(null!==(a=null!==(t=null==e?void 0:e.image_url)&&void 0!==t?t:null==e?void 0:e.image)&&void 0!==a?a:"");return{id:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"".concat(null!==(l=null==e?void 0:e.title)&&void 0!==l?l:"banner","-").concat(Math.random().toString(36).slice(2,8)),title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",subtitle:null!==(n=null==e?void 0:e.subtitle)&&void 0!==n?n:"",discount:null!==(o=null==e?void 0:e.discount)&&void 0!==o?o:"",image_url:m||"",redirect_url:c||"",is_active:null!==(d=null==e?void 0:e.is_active)&&void 0!==d?d:0,raw:e}});t(d)}catch(a){e||(c("Failed to load banners."),t([]))}finally{e||o(!1)}};return a(),()=>{e=!0}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{var t,a,l,s,i,n,o;p(!0),w(null);try{let o=await b();if(e)return;let d=(o||[]).map(e=>({id:e.id,name:null!==(a=null!==(t=e.name)&&void 0!==t?t:e.title)&&void 0!==a?a:"",image:null!==(l=e.image)&&void 0!==l?l:"",image_url:null!==(i=e.image_url)&&void 0!==i?i:v(null!==(s=e.image)&&void 0!==s?s:""),products_count:null!==(n=e.products_count)&&void 0!==n?n:0}));h(d)}catch(e){w(String(null!==(o=null==e?void 0:e.message)&&void 0!==o?o:e)||"Failed to load categories"),h([])}finally{e||p(!1)}})(),()=>{e=!0}},[]),(0,s.useEffect)(()=>{let t=()=>{y.current&&(clearInterval(y.current),y.current=null)};return t(),y.current=window.setInterval(()=>{N.current||i(t=>e.length?(t+1)%e.length:0)},4500),()=>t()},[e.length]),(0,s.useEffect)(()=>{let t=t=>{"ArrowLeft"===t.key&&i(t=>e.length?(t-1+e.length)%e.length:0),"ArrowRight"===t.key&&i(t=>e.length?(t+1)%e.length:0)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e.length]),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"relative overflow-hidden w-full rounded-2xl shadow-lg",onMouseEnter:()=>N.current=!0,onMouseLeave:()=>N.current=!1,children:n?(0,l.jsx)("div",{className:"w-full h-[54vh] flex items-center justify-center text-gray-500",children:"Loading banners..."}):d?(0,l.jsx)("div",{className:"w-full h-[54vh] flex items-center justify-center bg-red-50 text-red-600",children:d}):0===e.length?(0,l.jsx)("div",{className:"w-full h-[54vh] flex items-center justify-center text-gray-500",children:"No banners available"}):(0,l.jsxs)("section",{className:"relative w-full h-[54vh] min-h-[320px] overflow-hidden",style:{imageRendering:"high-quality"},children:[(0,l.jsx)("div",{className:"flex h-full transition-transform duration-700 ease-in-out",style:{transform:"translateX(-".concat(100*a,"%)"),width:"".concat(100*Math.max(1,e.length),"%")},children:e.map(e=>(0,l.jsxs)("div",{className:"relative flex-shrink-0 w-full h-full",children:[(0,l.jsx)("img",{src:"".concat(e.image_url||f,"?v=").concat(Date.now()),alt:e.title||"Banner",className:"absolute inset-0 w-full h-full object-cover object-center banner-image",loading:"eager",decoding:"async",style:{imageRendering:"high-quality",filter:"none !important",transform:"none !important",WebkitFilter:"none !important",WebkitTransform:"none !important"},onError:e=>{try{e.currentTarget.src=f}catch(e){}}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,l.jsx)("div",{className:"relative z-10 h-full max-w-7xl mx-auto px-6 md:px-12 flex items-center justify-between",children:(0,l.jsx)("div",{className:"flex-shrink-0 ml-6 hidden sm:block",children:(0,l.jsx)("div",{className:"w-[220px] sm:w-[240px] md:w-[300px] rounded-xl overflow-hidden shadow-2xl bg-white",children:(0,l.jsx)("img",{src:e.image_url||f,alt:"".concat(e.title||"Banner"," poster"),loading:"eager",decoding:"async",onError:e=>{try{e.currentTarget.src=f}catch(e){}},className:"w-full h-auto object-contain block",style:{display:"block"}})})})})]},e.id))}),(0,l.jsx)("button",{"aria-label":"Previous",onClick:()=>i(t=>e.length?(t-1+e.length)%e.length:0),className:"absolute left-6 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow-md text-xl z-20",children:"‹"}),(0,l.jsx)("button",{"aria-label":"Next",onClick:()=>i(t=>e.length?(t+1)%e.length:0),className:"absolute right-6 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow-md text-xl z-20",children:"›"}),(0,l.jsx)("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center gap-3 z-20",children:e.map((e,t)=>(0,l.jsx)("button",{onClick:()=>i(t),className:"w-3 h-3 rounded-full transition-transform transform ".concat(t===a?"scale-125 bg-slate-900":"bg-white/70")},t))})]})}),(0,l.jsx)("div",{className:"mt-6 w-full relative",children:(0,l.jsx)(j,{categories:x,loading:g,error:A})})]})}function j(e){let{categories:t=[],loading:a,error:s}=e;return a?(0,l.jsx)("div",{className:"w-full relative text-center py-10 text-gray-500",children:"Loading categories..."}):s?(0,l.jsxs)("div",{className:"w-full relative text-center py-10 text-red-600",children:["Failed to load categories: ",s]}):t.length?(0,l.jsxs)("div",{className:"jsx-207ddd7908838e72 relative w-full",children:[(0,l.jsxs)("div",{className:"jsx-207ddd7908838e72 max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12",children:[(0,l.jsx)("div",{className:"jsx-207ddd7908838e72 mb-4 flex items-center justify-between",children:(0,l.jsx)("h2",{className:"jsx-207ddd7908838e72 text-2xl font-bold text-gray-900",children:"Shop by Categories"})}),(0,l.jsxs)("div",{className:"jsx-207ddd7908838e72 relative",children:[(0,l.jsx)(x.tq,{modules:[h.pt,h.tl,h.W_],breakpoints:{320:{slidesPerView:1.2,spaceBetween:12},640:{slidesPerView:2.2,spaceBetween:16},768:{slidesPerView:3.2,spaceBetween:20},1024:{slidesPerView:4.2,spaceBetween:24},1280:{slidesPerView:5.2,spaceBetween:26},1536:{slidesPerView:6,spaceBetween:28}},navigation:!0,loop:t.length>6,autoplay:{delay:2800,disableOnInteraction:!0},pagination:{clickable:!0,el:".custom-swiper-pagination"},className:"category-swiper py-6",children:t.map(e=>{var t;let a=e.image_url||e.image||f;return(0,l.jsx)(x.o5,{children:(0,l.jsxs)(p(),{href:"/category/".concat(e.id),className:"flex flex-col items-center cursor-pointer hover:scale-105 transition-transform duration-200",children:[(0,l.jsx)("div",{className:"jsx-207ddd7908838e72 w-[130px] h-[130px] rounded-full overflow-hidden shadow-sm hover:shadow-md transition-shadow flex items-center justify-center bg-white ring-4 ring-white",children:(0,l.jsx)("img",{src:a,alt:e.name,className:"jsx-207ddd7908838e72 w-full h-full object-cover object-center block"})}),(0,l.jsxs)("div",{className:"jsx-207ddd7908838e72 mt-4 text-center",children:[(0,l.jsx)("span",{className:"jsx-207ddd7908838e72 block text-sm md:text-base tracking-widest font-semibold text-emerald-800 uppercase",children:e.name}),(0,l.jsxs)("span",{className:"jsx-207ddd7908838e72 block text-xs text-gray-500 mt-1",children:[null!==(t=e.products_count)&&void 0!==t?t:0," Products"]})]})]})},e.id)})}),(0,l.jsx)("div",{className:"jsx-207ddd7908838e72 custom-swiper-pagination mt-6 flex justify-center"})]})]}),(0,l.jsx)(o(),{id:"207ddd7908838e72",children:".custom-swiper-pagination .swiper-pagination-bullet{width:10px;height:6px;-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px;background:rgba(0,0,0,.08);opacity:1;margin:0 6px!important;-webkit-transition:-webkit-transform.25s ease,background.25s ease;-moz-transition:-moz-transform.25s ease,background.25s ease;-o-transition:-o-transform.25s ease,background.25s ease;transition:-webkit-transform.25s ease,background.25s ease;transition:-moz-transform.25s ease,background.25s ease;transition:-o-transform.25s ease,background.25s ease;transition:transform.25s ease,background.25s ease}.custom-swiper-pagination .swiper-pagination-bullet-active{background:#c75b3a;width:26px;height:8px;-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px}.category-swiper .swiper-button-next,.category-swiper .swiper-button-prev{width:24px;height:24px;background:rgba(255,255,255,.9);-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px;-webkit-box-shadow:0 2px 6px rgba(0,0,0,.08);-moz-box-shadow:0 2px 6px rgba(0,0,0,.08);box-shadow:0 2px 6px rgba(0,0,0,.08);color:#374151;opacity:.8;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.category-swiper .swiper-button-next:hover,.category-swiper .swiper-button-prev:hover{opacity:1;background:white;-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}.category-swiper .swiper-button-next::after,.category-swiper .swiper-button-prev::after{font-size:12px;font-weight:bold}.category-swiper .swiper-button-prev{left:2px}.category-swiper .swiper-button-next{right:2px}"})]}):(0,l.jsx)("div",{className:"w-full relative text-center py-10 text-gray-500",children:"No categories to display"})}let y=[{value:"all",label:"All Categories",count:"View All"},{value:"Fruits & Vegetables",label:"Fruits & Vegetables",count:"12 items"},{value:"Dairy, Bread & Eggs",label:"Dairy, Bread & Eggs",count:"8 items"},{value:"Snacks & Munchies",label:"Snacks & Munchies",count:"10 items"},{value:"Cold Drinks & Juices",label:"Cold Drinks & Juices",count:"6 items"},{value:"Bakery & Biscuits",label:"Bakery & Biscuits",count:"7 items"},{value:"Tea, Coffee & Health Drink",label:"Tea, Coffee & Health",count:"5 items"},{value:"Instant & Frozen Food",label:"Instant & Frozen Food",count:"8 items"},{value:"Personal Care",label:"Personal Care",count:"9 items"}];function N(e){let{onCategoryChange:t,selectedCategory:a}=e,[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),c=y.find(e=>e.value===a),u=e=>{d(!0),n(!1),setTimeout(()=>{t(e),d(!1)},150)};return(0,s.useEffect)(()=>{let e=e=>{let t=e.target;t.closest(".category-filter-dropdown")||n(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:(0,l.jsx)("div",{className:"flex items-center space-x-2",children:o&&(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin ml-2"})})}),"all"!==a&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:(0,l.jsxs)("p",{className:"text-sm text-green-800",children:[(0,l.jsx)("span",{className:"font-medium",children:"Filtered by:"})," ",null==c?void 0:c.label,(0,l.jsx)("button",{onClick:()=>u("all"),className:"ml-2 text-green-600 hover:text-green-700 underline font-medium",children:"Clear filter"})]})})]})}var C=a(7810),k=a(5340),S=a(4232),E=a(81),I=a(4033),P=a(5884),_=a(7429);function B(e){var t,a;let{onAddToCart:i,selectedCategory:n,isAnimating:o=!1}=e,[d,c]=(0,s.useState)({}),[u,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(""),{products:g}=(0,S.useProducts)()||{products:[]},{categories:p}=(0,E.useCategoryDataContext)()||{categories:[]},A={id:"static-001",name:"Sample Product (Static)",price:499,discountPrice:399,discountAmount:100,stock:10},f=(0,I.useRouter)(),{favorites:v=[],loading:b=!1,addFavorite:w}=(0,P.useWishlist)()||{},[j,y]=(0,s.useState)(()=>new Set);(0,s.useEffect)(()=>{try{var e,t,a;let l=new Set((v||[]).map(l=>String(null!==(a=null!==(t=null!==(e=null==l?void 0:l.product_id)&&void 0!==e?e:null==l?void 0:l.id)&&void 0!==t?t:null==l?void 0:l.productId)&&void 0!==a?a:null==l?void 0:l.product_id)));y(l)}catch(e){y(new Set)}},[v]),(0,s.useEffect)(()=>{let e=e=>{let t=e&&e.detail?e.detail:"",a=String(t||"").toString().trim().toLowerCase();h(a)};return window.addEventListener("siteSearch",e),()=>window.removeEventListener("siteSearch",e)},[]);let N=(0,s.useCallback)(e=>{var t,a,l,s,i,n,o,d;let c=e&&e.category;if(null==c)return{id:void 0,name:void 0};if("string"==typeof c||"number"==typeof c){let e=String(c).trim()||void 0;return{id:e,name:void 0}}let u=String(null!==(s=null!==(l=null!==(a=null!==(t=c.id)&&void 0!==t?t:c._id)&&void 0!==a?a:c.category_id)&&void 0!==l?l:c.categoryId)&&void 0!==s?s:"").trim()||void 0,m=String(null!==(d=null!==(o=null!==(n=null!==(i=c.name)&&void 0!==i?i:c.title)&&void 0!==n?n:c.category_name)&&void 0!==o?o:c.categoryName)&&void 0!==d?d:"").trim()||void 0;return{id:u,name:m}},[]),_=(0,s.useMemo)(()=>{if(!Array.isArray(p))return new Set;let e=new Set;return p.forEach(t=>{let a=String(t&&t.name||"").toLowerCase();(a.includes("cobopack")||a.includes("combopack"))&&e.add(String(t.id))}),e},[p]),B=(0,s.useMemo)(()=>{if(!g||Array.isArray(g)&&0===g.length)return[A];let e=[...g];if(n&&"all"!==n){let t=String(n).toLowerCase();e=e.filter(e=>{let{id:a,name:l}=N(e||{});return a&&String(a).toLowerCase().includes(t)||l&&String(l).toLowerCase().includes(t)||"string"==typeof e.category&&String(e.category).toLowerCase().includes(t)})}return x&&(e=e.filter(e=>{var t,a;let l=String((null==e?void 0:e.name)||"").toLowerCase(),s=String((null==e?void 0:e.description)||(null==e?void 0:e.short_description)||"").toLowerCase(),{name:i,id:n}=N(e),o=String(null!==(a=null!==(t=null!=i?i:n)&&void 0!==t?t:null==e?void 0:e.category)&&void 0!==a?a:"").toLowerCase();return l.includes(x)||s.includes(x)||o.includes(x)})),e},[g,n,x,N]);(0,s.useEffect)(()=>{m(B)},[B]);let Q=(0,s.useCallback)(e=>Math.max(0,Math.trunc(null!==(t=d[String(e)])&&void 0!==t?t:0)),[d]);(0,s.useCallback)((e,t)=>{t<0||c(a=>({...a,[String(e)]:Math.trunc(t)}))},[]);let M=(0,s.useCallback)(e=>{var t,a,l,s,i,n,o,d,c,u,m,x,h,g,p,A;if(!e)return e;let f=null!==(s=null!==(l=null!==(a=null!==(t=e.id)&&void 0!==t?t:e.product_id)&&void 0!==a?a:e._id)&&void 0!==l?l:e.slug)&&void 0!==s?s:null,v=null!==(o=null!==(n=null!==(i=e.product_id)&&void 0!==i?i:e.id)&&void 0!==n?n:e._id)&&void 0!==o?o:null,b=void 0!==e.price?e.price:null!==(c=null!==(d=e.cost)&&void 0!==d?d:e.amount)&&void 0!==c?c:0,w=null!==(x=null!==(m=null!==(u=e.discountPrice)&&void 0!==u?u:e.discount_price)&&void 0!==m?m:e.discount)&&void 0!==x?x:null,j=null!==(g=null!==(h=e.name)&&void 0!==h?h:e.title)&&void 0!==g?g:"Untitled",y=void 0!==e.stock?e.stock:null!==(A=null!==(p=e.qty)&&void 0!==p?p:e.quantity)&&void 0!==A?A:0;return{...e,id:f,product_id:v,price:b,discountPrice:w,name:j,stock:y}},[]),T=(0,s.useCallback)(e=>{try{var t,a,l;if(!e){console.warn("handleAddToCart called with falsy product");return}let s=M(e),n=null!==(a=null!==(t=s.id)&&void 0!==t?t:s.product_id)&&void 0!==a?a:null;if(!n){console.warn("Product missing id/product_id — not adding to cart:",s);return}let o=Number(null!==(l=null==s?void 0:s.stock)&&void 0!==l?l:1/0);if(!Number.isFinite(o)||o<=0){console.warn("addToCart prevented — out of stock:",s);return}let d=Math.max(1,Q(n));for(let e=0;e<d;e++)"function"==typeof i&&i(s);c(e=>{let t={...e};return delete t[String(n)],t})}catch(e){console.error("handleAddToCart unexpected error:",e)}},[M,i,Q]),D=(0,s.useCallback)(e=>Number.isNaN(Number(e))?"0.00":Number(e).toFixed(2),[]),L=(0,s.useCallback)(e=>{var t,a;let l=null!==(t=null==e?void 0:e.discountPrice)&&void 0!==t?t:null==e?void 0:e.discount_price,s=null!==(a=null==e?void 0:e.discountAmount)&&void 0!==a?a:null==e?void 0:e.discount_amount,i=Number((null==e?void 0:e.price)||0);return l>0?l:s>0?Math.max(0,i-s):i},[]),F=(0,s.useCallback)(e=>{let t=Number((null==e?void 0:e.price)||0),a=Number(L(e)||0);return!t||a>=t?0:Math.round((t-a)/t*100)},[L]),{combopackProducts:z,otherProducts:U}=(0,s.useMemo)(()=>{let e=[],t=[];return u.forEach(a=>{let{id:l,name:s}=N(a),i=(s||"").toLowerCase();l&&_.has(String(l))||i.includes("combopack")||i.includes("cobopack")?e.push(a):t.push(a)}),{combopackProducts:e,otherProducts:t}},[u,_,N]),R=(0,s.useCallback)(async(e,t)=>{var a,l,s;e.stopPropagation(),e.preventDefault();let i=String(null!==(s=null!==(l=null!==(a=null==t?void 0:t.id)&&void 0!==a?a:null==t?void 0:t.product_id)&&void 0!==l?l:null==t?void 0:t._id)&&void 0!==s?s:"");if(i&&!j.has(i))try{await w(i)}catch(e){}},[w,j]),W=(e,t)=>{var a;let s=String((null==e?void 0:e.id)||"tmp-".concat(t)),i=L(e),n=F(e),o=0>=Number(null!==(a=null==e?void 0:e.stock)&&void 0!==a?a:1/0),d=(null==e?void 0:e.imageUrl)||Array.isArray(null==e?void 0:e.images)&&e.images[0]||(null==e?void 0:e.image)||"/placeholder.png",c=j.has(String(s));return(0,l.jsxs)("article",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all border border-gray-100 overflow-hidden flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"relative p-4 cursor-pointer",children:[(0,l.jsx)("div",{className:"rounded-xl overflow-hidden bg-gray-50",children:(0,l.jsx)("img",{src:d,alt:(null==e?void 0:e.name)||"product",className:"w-full h-56 object-cover"})}),(0,l.jsx)("button",{onClick:t=>R(t,e),disabled:c||b,"aria-pressed":c,"aria-label":c?"Added to wishlist":"Add to wishlist",className:"absolute top-4 right-4 z-20 p-2 rounded-full shadow-md transition transform scale-100\n              ".concat(c?"bg-red-50":"bg-white/90 hover:scale-105","\n              ").concat(c?"cursor-default":"cursor-pointer"),title:c?"Already in wishlist":"Add to wishlist",onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),children:(0,l.jsx)(C.Z,{className:"w-5 h-5 ".concat(c?"text-red-600":"text-gray-500"),fill:c?"currentColor":"none"})}),n>0&&(0,l.jsxs)("span",{className:"absolute top-5 left-5 bg-green-600 text-white text-xs font-semibold px-2 py-1 rounded-md shadow",children:[n,"% OFF"]})]}),(0,l.jsxs)("div",{className:"px-5 pb-5 flex-1 flex flex-col",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2 line-clamp-2",children:(null==e?void 0:e.name)||"Unnamed"}),(0,l.jsx)("div",{className:"flex items-center gap-1 mb-3",children:Array.from({length:5}).map((e,t)=>(0,l.jsx)(k.Z,{className:"w-4 h-4 text-yellow-400"},t))}),(0,l.jsx)("div",{className:"mt-auto",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["Rs.",D(i)]}),n>0&&(0,l.jsxs)("div",{className:"text-xs text-gray-400 mt-1 line-through",children:["Rs.",D(e.price)]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:o?(0,l.jsx)("div",{className:"text-xs  rounded-md bg-gray-100 text-black-500",children:"Out of stock"}):(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),t.preventDefault(),T(e)},className:"px-2 py-2 border-2 border-green-600 text-green-600 rounded-lg font-medium hover:bg-green-50 transition",children:"Add to cart"})})]})})]})]},s)};return(0,l.jsxs)("div",{className:"mb-16 w-full py-10",children:[(0,l.jsx)("div",{className:"max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12 mb-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Shop by Products"}),u.length>0&&(0,l.jsx)("span",{className:"text-sm text-gray-500 hidden sm:block",children:"Searched results"})]})}),(0,l.jsx)("div",{className:"max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12",children:(0,l.jsx)("div",{className:"grid gap-8 sm:gap-10 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4\n            transition-all duration-300 ease-in-out ".concat(o?"opacity-0 scale-95":"opacity-100 scale-100"),children:U.map((e,t)=>(0,l.jsx)("div",{className:"transform transition-transform hover:scale-[1.02]",children:(0,l.jsxs)("article",{onClick:()=>f.push("/product/".concat(e.id)),className:"bg-white rounded-2xl shadow-md hover:shadow-2xl overflow-hidden border border-gray-100 flex flex-col h-full",style:{height:"400px",minWidth:"280px"},children:[(0,l.jsxs)("div",{className:"relative w-full h-[260px] sm:h-[250px] md:h-[300px] overflow-hidden",children:[(0,l.jsx)("img",{src:(null==e?void 0:e.imageUrl)||Array.isArray(null==e?void 0:e.images)&&e.images[0]||(null==e?void 0:e.image),alt:(null==e?void 0:e.name)||"product",className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),R(t,e)},disabled:j.has(String(e.id))||b,"aria-pressed":j.has(String(e.id)),"aria-label":j.has(String(e.id))?"Added to wishlist":"Add to wishlist",className:"absolute top-4 right-4 z-20 p-2 rounded-full shadow-md transition transform\n                      ".concat(j.has(String(e.id))?"bg-red-50":"bg-white/90 hover:scale-105","\n                      ").concat(j.has(String(e.id))?"cursor-default":"cursor-pointer"),title:j.has(String(e.id))?"Already in wishlist":"Add to wishlist",children:(0,l.jsx)(C.Z,{className:"w-5 h-5 ".concat(j.has(String(e.id))?"text-red-600":"text-gray-500"),fill:j.has(String(e.id))?"currentColor":"none"})}),e.discountAmount>0&&(0,l.jsxs)("span",{className:"absolute top-4 left-4 bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded-md shadow",children:[Math.round((e.price-(e.discountPrice||e.price-e.discountAmount))/e.price*100),"% OFF"]})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col px-6 py-4",children:[(0,l.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 line-clamp-2",children:(null==e?void 0:e.name)||"Unnamed"}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["Rs.",(null==e?void 0:e.discountPrice)||(null==e?void 0:e.price)]}),(null==e?void 0:e.discountPrice)&&(0,l.jsxs)("div",{className:"text-sm text-gray-400 line-through",children:["Rs.",null==e?void 0:e.price]})]}),Number(null!==(a=null==e?void 0:e.stock)&&void 0!==a?a:0)>0?(0,l.jsx)("button",{className:"px-4 py-2 border-2 border-green-600 text-green-600 rounded-lg font-medium hover:bg-green-50 transition",onClick:t=>{t.stopPropagation(),t.preventDefault(),T(e)},children:"Add to cart"}):(0,l.jsx)("div",{className:"text-xs font-semibold px-3 py-2 rounded-lg bg-gray-200 text-gray-600 select-none",children:"Out of stock"})]})]})]})},e.id||t))})}),0===u.length&&(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Try another keyword."})]}),z.length>0&&(0,l.jsxs)("section",{className:"mt-12",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12",children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold text-gray-900",children:"Exclusive Combopacks"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[z.length," items"]})]}),(0,l.jsx)("div",{className:"max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12",children:(0,l.jsx)("div",{className:"grid gap-6 sm:gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:z.map((e,t)=>W(e,t))})})]})]})}var Q=a(7516),M=a(2549),T=a(6142);function D(e){let{isOpen:t,onClose:a}=e,[i,n]=(0,s.useState)("");return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Location"}),(0,l.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,l.jsx)(M.Z,{className:"h-5 w-5 text-gray-600"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex space-x-3 mb-6",children:[(0,l.jsx)("button",{className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Detect my location"}),(0,l.jsx)("span",{className:"text-gray-400 self-center",children:"OR"}),(0,l.jsx)("input",{type:"text",placeholder:"search delivery location",value:i,onChange:e=>n(e.target.value),className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent Locations"}),(0,l.jsx)("div",{className:"space-y-3",children:["Home - B62, Pocket B, Sector 7, Rohini, Delhi","Work - Connaught Place, New Delhi","Other - Karol Bagh, New Delhi"].map((e,t)=>(0,l.jsxs)("button",{className:"w-full flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors text-left",onClick:a,children:[(0,l.jsx)(T.Z,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})]})]})}):null}var L=a(6476),F=a(3293),z=a(5925),U=a(2601);function R(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),n=(U.env.NEXT_PUBLIC_API_BASE||"https://9nutsapi.nearbydoctors.in/public").replace(/\/+$/,""),d=(u.I||"https://9nutsapi.nearbydoctors.in/public/api").replace(/\/+$/,"");return(0,s.useEffect)(()=>{let e=!1;return async function(){try{let a=await fetch("".concat(d,"/show-all-sales-banner"),{headers:{"Content-Type":"application/json"}}),l=await a.text(),s=l?JSON.parse(l):{};if(!a.ok)throw Error((null==s?void 0:s.message)||"API error ".concat(a.status));let o=Array.isArray(null==s?void 0:s.data)?s.data:[],c=o.map(e=>{let t=e.url||e.image_url||e.image||"",a=/^https?:\/\//.test(t)?t:t?"".concat(n,"/").concat(t.replace(/^\/+/,"")):"";return{id:e.id,title:e.title,subtitle:e.subtitle,link:e.link,image_url:a}});e||(t(c),i(!1))}catch(t){e||(z.toast.error("Failed to load banners: ".concat(t.message)),i(!1))}}(),()=>{e=!0}},[d,n]),(0,l.jsxs)("section",{className:"w-full mt-10",children:[(0,l.jsx)(z.Toaster,{position:"top-right",toastOptions:{duration:3500}}),(0,l.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"relative rounded-2xl overflow-hidden shadow-sm",children:a?(0,l.jsx)("div",{className:"flex justify-center items-center h-[400px]",children:(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-emerald-500 rounded-full animate-spin"})}):(0,l.jsx)(x.tq,{modules:[h.pt,h.tl],autoplay:{delay:4500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,className:"hero-swiper",children:(e.length>0?e:[]).map(e=>(0,l.jsx)(x.o5,{children:(0,l.jsxs)("div",{className:"relative w-full h-[320px] md:h-[420px] lg:h-[520px]",children:[e.image_url?(0,l.jsx)(c(),{src:e.image_url,alt:e.title||"Sale banner",fill:!0,style:{objectFit:"cover"},sizes:"(max-width: 768px) 640px, (max-width: 1200px) 1200px, 1400px",priority:!0}):(0,l.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-500",children:"No banner image"})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center px-6 text-center text-white",children:(0,l.jsxs)(F.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},className:"max-w-2xl",children:[e.title&&(0,l.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-2 drop-shadow-lg",children:e.title}),e.subtitle&&(0,l.jsx)("p",{className:"text-lg md:text-xl mb-4 opacity-90",children:e.subtitle})]})})]})},e.id))})})}),(0,l.jsx)("div",{className:"mt-20 mb-5",children:(0,l.jsxs)("div",{className:"jsx-b9cd54bc0dd611f8 max-w-[900px] mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,l.jsxs)("div",{className:"jsx-b9cd54bc0dd611f8 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"jsx-b9cd54bc0dd611f8 flex items-center gap-1 mb-4",children:[1,2,3,4,5].map(e=>(0,l.jsx)(k.Z,{className:"w-5 h-5 text-yellow-400"},e))}),(0,l.jsx)("h2",{className:"jsx-b9cd54bc0dd611f8 font-heading text-2xl md:text-3xl text-[#C75B3A] font-bold mb-4 tracking-wide",children:"GREAT QUALITY!"})]}),(0,l.jsx)(x.tq,{modules:[h.pt,h.tl],slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,className:"testimonial-swiper mt-4",children:[{id:"t1",quote:"I'm amazed at how 9Nutz manages to blend traditional flavors with a healthy twist. Their namkeens are now a must-have for every family get-together.",name:"ANJALI DESHMUKH",location:"Pune"},{id:"t2",quote:"The textures and freshness are outstanding — you can taste the care in every bite. Delivery was fast and packaging thoughtful.",name:"RAJ KUMAR",location:"Mumbai"},{id:"t3",quote:"Perfect balance of crunch and spices. I reorder every month for family gatherings — never disappoints!",name:"PRIYA SAINI",location:"Bengaluru"}].map(e=>(0,l.jsx)(x.o5,{children:(0,l.jsxs)("blockquote",{className:"jsx-b9cd54bc0dd611f8 px-4 md:px-12",children:[(0,l.jsxs)("p",{className:"jsx-b9cd54bc0dd611f8 text-lg md:text-xl text-gray-600 leading-relaxed",children:["“",e.quote,"”"]}),(0,l.jsxs)("footer",{className:"jsx-b9cd54bc0dd611f8 mt-6 text-sm text-emerald-800 font-semibold",children:[e.name,","," ",(0,l.jsxs)("span",{className:"jsx-b9cd54bc0dd611f8 font-normal text-gray-500",children:["- ",e.location]})]})]})},e.id))}),(0,l.jsx)(o(),{id:"b9cd54bc0dd611f8",children:".hero-swiper .swiper-pagination-bullet,.testimonial-swiper .swiper-pagination-bullet{background:rgba(255,255,255,.5);opacity:1;-webkit-transition:all.25s;-moz-transition:all.25s;-o-transition:all.25s;transition:all.25s}.hero-swiper .swiper-pagination-bullet-active,.testimonial-swiper .swiper-pagination-bullet-active{background:#c75b3a;width:22px;height:8px;-webkit-border-radius:999px;-moz-border-radius:999px;border-radius:999px}"})]})})]})}function W(e){var t,a,i,n,o,d,c,u;let{product:m=null,id:x=null,onAddToCart:h=null}=e,g=(null===S.useProducts||void 0===S.useProducts?void 0:(0,S.useProducts)())||{},p=Array.isArray(g.products)?g.products:[],A=(0,s.useMemo)(()=>m||x&&p.find(e=>{var t,a;if(!e)return!1;let l=String(null!==(a=null!==(t=e.id)&&void 0!==t?t:e._id)&&void 0!==a?a:"");return l===String(x)||l.toLowerCase()===String(x).toLowerCase()})||null,[m,x,p]),[f,v]=(0,s.useState)(1),b=Math.max(1,Math.trunc(Number(f)||1)),w=(0,s.useCallback)(()=>{v(e=>Math.max(1,Math.trunc(Number(e||1))-1))},[]),j=(0,s.useCallback)(()=>{v(e=>Math.max(1,Math.trunc(Number(e||1))+1))},[]),y=(0,s.useCallback)(e=>{let t=Number(e);Number.isNaN(t)||v(Math.max(1,Math.trunc(t)))},[]),N=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return;let a=Number(null!=e.stock?e.stock:1/0);if(Number.isNaN(a)||!(a<=0)){if("function"==typeof h)try{h(e,t)}catch(a){try{h(e)}catch(a){try{window.dispatchEvent(new CustomEvent("productAddToCart",{detail:{product:e,quantity:t}}))}catch(e){}}}else try{window.dispatchEvent(new CustomEvent("productAddToCart",{detail:{product:e,quantity:t}}))}catch(e){}try{window.dispatchEvent(new CustomEvent("openCart"))}catch(e){}}},[h]),C=(0,s.useCallback)(()=>{A&&(N(A,b),v(1))},[A,b,N]);if(!A)return(0,l.jsxs)("div",{className:"rounded-xl bg-white shadow p-6 text-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Product not available"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"We couldn't find the product details. Try again or open the product page."})]});let k=A.imageUrl||Array.isArray(A.images)&&A.images[0]||A.image||"/placeholder-1200x800.png",E=A.name||A.title||A.productName||"Product ".concat(null!==(t=A.id)&&void 0!==t?t:x),I=A.description||A.short_description||A.summary||"",P=Number(null!==(n=null!==(i=null!==(a=A.price)&&void 0!==a?a:A.price_in_cents)&&void 0!==i?i:A.amount)&&void 0!==n?n:0),_=0>=Number(null!=A.stock?A.stock:1/0);return(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-full max-w-sm rounded-lg overflow-hidden bg-gray-50",children:(0,l.jsx)("img",{src:k,alt:E,onError:e=>{try{e.currentTarget.src="/placeholder-1200x800.png"}catch(e){}},className:"w-full h-[260px] md:h-[320px] object-contain p-4"})})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-2",children:E}),I?(0,l.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:I}):null,(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"text-2xl font-semibold text-green-700",children:["₹",P.toLocaleString(void 0,{maximumFractionDigits:2})]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:_?"Out of stock":"".concat(null!==(o=A.stock)&&void 0!==o?o:"—"," in stock")})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"inline-flex items-center border rounded-md overflow-hidden",children:[(0,l.jsx)("button",{type:"button",onClick:w,className:"px-3 py-2 hover:bg-gray-100","aria-label":"Decrease quantity",children:"−"}),(0,l.jsx)("input",{"aria-label":"Quantity",className:"w-14 text-center py-2 outline-none",value:f,onChange:e=>y(e.target.value),inputMode:"numeric"}),(0,l.jsx)("button",{type:"button",onClick:j,className:"px-3 py-2 hover:bg-gray-100","aria-label":"Increase quantity",children:"+"})]}),(0,l.jsx)("div",{children:_?(0,l.jsx)("div",{className:"px-4 py-2 rounded-md bg-gray-100 text-gray-500",children:"Out of stock"}):(0,l.jsx)("button",{onClick:C,className:"px-5 py-2 rounded-lg bg-green-600 text-white font-medium hover:bg-green-700 transition",children:"Add to carts"})})]}),(0,l.jsx)("div",{children:"Hello"}),(0,l.jsxs)("div",{className:"pt-4 border-t border-gray-100 text-sm text-gray-700",children:[(0,l.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,l.jsx)("div",{className:"font-medium w-36",children:"Product ID:"}),(0,l.jsx)("div",{children:String(null!==(u=null!==(c=null!==(d=A.id)&&void 0!==d?d:A._id)&&void 0!==c?c:x)&&void 0!==u?u:"")})]}),A.brand&&(0,l.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,l.jsx)("div",{className:"font-medium w-36",children:"Brand:"}),(0,l.jsx)("div",{children:A.brand})]}),A.sku&&(0,l.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,l.jsx)("div",{className:"font-medium w-36",children:"SKU:"}),(0,l.jsx)("div",{children:A.sku})]})]})]})]})})}a(8822);var O=a(2550),Z=a(5920);function q(){let{categories:e=[],loading:t=!1}=(0,E.useCategoryDataContext)()||{categories:[],loading:!1},a=(0,s.useMemo)(()=>[O.Z,Z.Z,"https://images.unsplash.com/photo-1516685304081-de7947d419d5?w=1200&q=80&auto=format&fit=crop","https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&q=80&auto=format&fit=crop"],[]),i=(e,t)=>(null==e?void 0:e.image_url)?e.image_url:(null==e?void 0:e.image)?/^https?:\/\//.test(e.image)?e.image:"https://9nutsapi.nearbydoctors.in/public/storage/".concat(e.image):a[t%a.length],n=(0,s.useMemo)(()=>Array.isArray(e)&&0!==e.length?e.slice(0,3).map((e,t)=>{var a,l,s;let n=String(null!==(l=null!==(a=e.id)&&void 0!==a?a:e._id)&&void 0!==l?l:"").trim(),o=String(null!==(s=e.name)&&void 0!==s?s:"Category").trim();return{id:n||"cat-".concat(t),title:o.toUpperCase(),tag:"SHOP BY CATEGORY",cta:"SHOP NOW",href:"/category/".concat(encodeURIComponent(n)),image:i(e,t),alt:"".concat(o," category")}}):[],[e]);return(0,l.jsxs)("section",{className:"jsx-e6f0f04bf1df5e6c w-full py-8",children:[(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:t?(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c py-20 flex items-center justify-center",children:(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c w-12 h-12 border-4 border-gray-200 border-t-emerald-500 rounded-full animate-spin"})}):0===n.length?(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c py-12 text-center text-gray-500",children:"No categories found."}):(0,l.jsx)("div",{"aria-label":"Top selling categories",className:"jsx-e6f0f04bf1df5e6c grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,l.jsxs)("article",{className:"jsx-e6f0f04bf1df5e6c relative rounded-2xl overflow-hidden shadow-sm bg-white group",children:[(0,l.jsxs)("div",{className:"jsx-e6f0f04bf1df5e6c relative w-full h-[220px] sm:h-[260px] md:h-[320px] lg:h-[360px] xl:h-[420px]",children:[(0,l.jsx)(c(),{src:e.image,alt:e.alt||e.title,fill:!0,sizes:"(max-width: 640px) 640px, (max-width: 1024px) 768px, 1024px",style:{objectFit:"cover",objectPosition:"center"},className:"transition-transform duration-700 ease-out group-hover:scale-105",priority:!1}),(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent pointer-events-none"})]}),(0,l.jsxs)("div",{className:"jsx-e6f0f04bf1df5e6c absolute inset-0 flex flex-col justify-center items-start px-5 sm:px-6 md:px-8 pb-6 pt-6",children:[(0,l.jsx)("span",{className:"jsx-e6f0f04bf1df5e6c inline-block bg-white/85 text-[11px] sm:text-xs font-medium px-3 py-1 rounded-full text-emerald-800 mb-3 backdrop-blur-sm",children:e.tag}),(0,l.jsx)("h5",{style:{fontSize:"clamp(0.9rem, 0.8rem + 1.4vw, 1.8rem)",WebkitTextStroke:"0.8px #163B32",textShadow:"0 1px 0 rgba(0,0,0,0.12)"},className:"jsx-e6f0f04bf1df5e6c w-full text-white font-heading font-extrabold leading-tight tracking-wide",children:(0,l.jsx)("span",{className:"jsx-e6f0f04bf1df5e6c block text-center sm:text-left",children:e.title})}),(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c mt-4 md:mt-6",children:(0,l.jsx)(p(),{href:e.href,className:"inline-block bg-[#C75B3A] hover:bg-[#b24f33] text-white font-semibold rounded-full px-5 py-2 sm:px-6 sm:py-3 text-sm sm:text-base transition-transform transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#C75B3A]","aria-label":"Shop ".concat(e.title),children:e.cta})})]}),(0,l.jsx)("div",{className:"jsx-e6f0f04bf1df5e6c absolute inset-0 rounded-2xl pointer-events-none"})]},e.id))})}),(0,l.jsx)(o(),{id:"e6f0f04bf1df5e6c",children:'.font-heading.jsx-e6f0f04bf1df5e6c{font-family:"Cinzel","Playfair Display",Georgia,serif}@media(max-width:640px){.font-heading{-webkit-text-stroke-width:.7px}}a:focus{outline:3px solid rgba(199,91,58,.18);outline-offset:2px}'})]})}function Y(){let[e,t]=(0,s.useState)(!0),[a,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)([]),[p,A]=(0,s.useState)("all"),[f,v]=(0,s.useState)(!1),[b,j]=(0,s.useState)(null),[y,C]=(0,s.useState)(!1),{user:k}=(0,i.useAuth)();(0,s.useEffect)(()=>{let e=setTimeout(()=>{t(!1)},1200);return()=>clearTimeout(e)},[]);let S=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return;let a=Math.max(1,Number.isFinite(Number(t))?Math.trunc(t):1);g(t=>{let l=t.find(t=>String(t.id)===String(e.id));return l?t.map(t=>String(t.id)===String(e.id)?{...t,quantity:(t.quantity||0)+a}:t):[...t,{...e,quantity:a}]}),x(!0)},[]),E=(0,s.useCallback)(e=>{try{var t,a;let l=e&&e.detail?e.detail:e,s=l&&l.product?l.product:l,i=l&&(null!==(t=l.quantity)&&void 0!==t?t:l.qty)?Number(null!==(a=l.quantity)&&void 0!==a?a:l.qty):1;if(!s)return;S(s,i),x(!0)}catch(e){}},[S]);(0,s.useEffect)(()=>(window.addEventListener("productAddToCart",E),()=>window.removeEventListener("productAddToCart",E)),[E]),(0,s.useEffect)(()=>{let e=()=>x(!0);return window.addEventListener("openCart",e),()=>window.removeEventListener("openCart",e)},[]);let I=(0,s.useCallback)(()=>{n(!1),g([])},[]);h.reduce((e,t)=>{let a="number"==typeof t.price?t.price:0,l="number"==typeof t.quantity?t.quantity:0;return e+a*l},0);let P=(0,s.useCallback)((e,t)=>{if(t<=0){g(t=>t.filter(t=>String(t.id)!==String(e)));return}g(a=>a.map(a=>String(a.id)===String(e)?{...a,quantity:t}:a))},[]),M=(0,s.useCallback)(e=>{e&&(j(String(e)),C(!0),window.scrollTo({top:0,behavior:"smooth"}))},[]),T=(0,s.useCallback)(()=>{C(!1),j(null)},[]);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("main",{children:(0,l.jsxs)("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:[(0,l.jsx)(w,{}),(0,l.jsx)(N,{onCategoryChange:e=>{v(!0),A(e),setTimeout(()=>{v(!1)},300)},selectedCategory:p}),(0,l.jsx)(_.Z,{}),(0,l.jsx)(B,{onAddToCart:S,onProductSelect:M,selectedCategory:p,isAnimating:f})]})}),(0,l.jsx)(q,{}),(0,l.jsx)(R,{}),(0,l.jsx)(Q.Z,{isOpen:o,onClose:()=>d(!1)}),(0,l.jsx)(D,{isOpen:c,onClose:()=>u(!1)}),y&&b&&(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start md:items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:T,"aria-hidden":!0}),(0,l.jsx)("div",{className:"relative w-full max-w-5xl mx-auto bg-transparent",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"flex justify-end p-3",children:(0,l.jsx)("button",{onClick:T,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 focus:outline-none","aria-label":"Close product details",children:"✕"})}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(W,{id:b,onAddToCart:S})})]})})]}),(0,l.jsx)(L.Z,{isOpen:m,onClose:()=>x(!1),items:h,onUpdateQuantity:P,onProceedToPay:()=>{n(!0)},onClearCart:()=>g([]),handlePaymentComplete:I})]})}},7429:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var l=a(7437),s=a(1787),i=a.n(s);a(2265);var n=a(2505),o=a(2851),d=a(1961);a(6691);let c=[{id:"quality",icon:(0,l.jsx)(n.Z,{className:"icon"}),title:"HIGH-QUALITY NUTZ",description:"Nourish Your Body with the Best: Sustainably Sourced Proteins for Your Well-being!"},{id:"value",icon:(0,l.jsx)(o.Z,{className:"icon"}),title:"UNBEATABLE VALUE",description:"Get a range of high-quality cuts, from ground beef to filet mignon, at an amazing value."},{id:"flex",icon:(0,l.jsx)(d.Z,{className:"icon"}),title:"COMPLETE FLEXIBILITY",description:"Shipping is always FREE, we deliver to your door on your schedule, and you can cancel anytime."}];function u(){return(0,l.jsxs)("section",{className:"jsx-a21000ae118e31e feature-strip bg-[#EED5C2] w-[100%] mt-10",children:[(0,l.jsx)("div",{className:"jsx-a21000ae118e31e max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"jsx-a21000ae118e31e py-6 sm:py-8 md:py-6",children:(0,l.jsx)("div",{className:"jsx-a21000ae118e31e grid grid-cols-1 md:grid-cols-3 gap-y-6 md:gap-y-0 md:gap-x-6 items-start",children:c.map(e=>(0,l.jsxs)("article",{className:"jsx-a21000ae118e31e flex items-start gap-5",children:[(0,l.jsx)("div",{className:"jsx-a21000ae118e31e icon-box flex-shrink-0 w-14 h-14 rounded-full bg-white/80 shadow-md flex items-center justify-center mt-1",children:(0,l.jsx)("div",{className:"jsx-a21000ae118e31e text-brand-green",children:e.icon})}),(0,l.jsxs)("div",{className:"jsx-a21000ae118e31e flex-1",children:[(0,l.jsx)("h3",{className:"jsx-a21000ae118e31e font-heading text-brand-green uppercase text-[14px] md:text-[16px] tracking-widest font-semibold leading-tight",children:e.title}),(0,l.jsx)("p",{className:"jsx-a21000ae118e31e mt-2 text-sm md:text-[15px] text-gray-700 max-w-xl leading-relaxed",children:e.description})]})]},e.id))})})}),(0,l.jsx)(i(),{id:"a21000ae118e31e",children:".feature-strip.jsx-a21000ae118e31e{border-top:6px solid rgba(0,0,0,.03)}.icon-box.jsx-a21000ae118e31e{-webkit-box-shadow:0 6px 18px rgba(14,23,36,.06);-moz-box-shadow:0 6px 18px rgba(14,23,36,.06);box-shadow:0 6px 18px rgba(14,23,36,.06)}.icon.jsx-a21000ae118e31e{stroke:currentColor;color:#1e4e3e}@media(max-width:767px){.feature-strip.jsx-a21000ae118e31e .icon-box.jsx-a21000ae118e31e{width:48px;height:48px}}"})]})}},2080:function(e,t,a){"use strict";a.r(t),a.d(t,{SettingsProvider:function(){return p},useSettings:function(){return u}});var l=a(7437),s=a(2265),i=a(8207),n=a(2601);let o="site_settings_v1",d={site_name:"9nutz",email:"info.9nutz@gmail.com",phone:"8790598525",altphone:"9533875237",whatappnumber:"9988776655",address:"suraram colony, muthaiah nagar, Hyderabad, Telangana, 500055",logo_url:null,favicon_url:""},c=(0,s.createContext)({settings:d,loading:!0,refresh:async()=>{}}),u=()=>(0,s.useContext)(c),m=e=>{if(!e)return"";try{let t=String(e);if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:"))return t;let a=(i.Sg||n.env.NEXT_PUBLIC_API_BASE||"").replace(/\/+$/,"");if(!a)return t;if(t.startsWith("/"))return"".concat(a).concat(t);return"".concat(a,"/").concat(t)}catch(t){return String(e)}},x=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t;let a=localStorage.getItem(o);if(!a)return null;let l=JSON.parse(a);if(!l||!l.ts||!l.data)return null;if(!e&&Date.now()-l.ts>(null!==(t=l.ttl)&&void 0!==t?t:6e5))return localStorage.removeItem(o),null;return l.data}catch(e){return null}},h=e=>{try{localStorage.setItem(o,JSON.stringify({ts:Date.now(),ttl:6e5,data:e}))}catch(e){}},g=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;try{if(t&&"function"==typeof t.get)return await t.get(e,{timeout:a})}catch(e){}let l=new AbortController;l.signal;let s=setTimeout(()=>l.abort(),a);try{let t=(i.Sg||n.env.NEXT_PUBLIC_API_BASE||"").replace(/\/+$/,"");t&&"".concat(t,"/").concat(e.replace(/^\/+/,"")),clearTimeout(s);let a=await r.json().catch(()=>null);return{data:a,status:r.status,ok:r.ok}}catch(e){throw clearTimeout(s),e}};function p(e){let{children:t}=e,[a,n]=(0,s.useState)(d),[o,u]=(0,s.useState)(!0),p=e=>{var t,a,l,s,i,n,o,c,u,x,h,g,p,A,f;return e&&"object"==typeof e?{site_name:null!==(a=null!==(t=e.site_name)&&void 0!==t?t:e.name)&&void 0!==a?a:d.site_name,email:null!==(l=e.email)&&void 0!==l?l:d.email,phone:null!==(s=e.phone)&&void 0!==s?s:d.phone,altphone:null!==(n=null!==(i=e.altphone)&&void 0!==i?i:e.alt_phone)&&void 0!==n?n:d.altphone,whatappnumber:null!==(c=null!==(o=e.whatappnumber)&&void 0!==o?o:e.whatsapp)&&void 0!==c?c:d.whatappnumber,address:null!==(u=e.address)&&void 0!==u?u:d.address,logo_url:m(null!==(g=null!==(h=null!==(x=e.logo_url)&&void 0!==x?x:e.logo)&&void 0!==h?h:e.logoUrl)&&void 0!==g?g:""),favicon_url:m(null!==(f=null!==(A=null!==(p=e.favicon_url)&&void 0!==p?p:e.favicon)&&void 0!==A?A:e.faviconUrl)&&void 0!==f?f:""),raw:e}:d},A=async()=>{try{var e,t,a,l;let s=await g("settings",i.ZP,3500),o=null!==(e=null==s?void 0:s.data)&&void 0!==e?e:null,d=null!==(l=null!==(a=null!==(t=null==o?void 0:o.settings)&&void 0!==t?t:null==o?void 0:o.data)&&void 0!==a?a:o)&&void 0!==l?l:null;if(!d||"object"!=typeof d)return;let c=p(d);h(c),n(e=>({...e,...c}))}catch(e){}finally{u(!1)}};return(0,s.useEffect)(()=>{(async()=>{u(!0);let e=x(!0);e&&n(t=>({...t,...e})),u(!1),await A()})()},[]),(0,l.jsx)(c.Provider,{value:{settings:a,loading:o,refresh:A,setSettings:n},children:t})}},2550:function(e,t){"use strict";t.Z={src:"/_next/static/media/9nutz_about.78abce65.jpg",height:960,width:1280,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAYACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAAAgEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAAkB//xAAcEAEAAgEFAAAAAAAAAAAAAAADAQIhAAUSIlH/2gAIAQEAAT8ATdmsROhlbPWZpXlmfdf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAgEBPwCv/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAEx/9oACAEDAQE/AFD/2Q==",blurWidth:8,blurHeight:6}},1361:function(e,t){"use strict";t.Z={src:"/_next/static/media/LOGO.65e59486.jpg",height:863,width:2048,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAMACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABwEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAKiIf//EABoQAQABBQAAAAAAAAAAAAAAAAIDAAEyktH/2gAIAQEAAT8AMIscpN12v//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Af//EABcRAQADAAAAAAAAAAAAAAAAAAIAMnH/2gAIAQMBAT8AVls//9k=",blurWidth:8,blurHeight:3}},5920:function(e,t){"use strict";t.Z={src:"/_next/static/media/test.ac8ba08f.jpg",height:3318,width:4515,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAYACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAALcK/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQMCEQAEEhP/2gAIAQEAAT8AD9te2Fnzkpkzzd9RrP/EABcRAAMBAAAAAAAAAAAAAAAAAAACQXH/2gAIAQIBAT8AW6f/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIycv/aAAgBAwEBPwCark//2Q==",blurWidth:8,blurHeight:6}}},function(e){e.O(0,[4737,1396,7037,8289,5135,5884,4232,8987,2971,7864,1744],function(){return e(e.s=2994)}),_N_E=e.O()}]);