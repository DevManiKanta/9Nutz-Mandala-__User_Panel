"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8164],{8164:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(7437),n=a(2265),s=a(3021),i=a(7810),o=a(7972),c=a(3505),d=a(2502),u=a(1396),h=a.n(u);function m(e){let{onLoginClick:t}=e,{user:a}=(0,d.useAuth)();return a?(0,l.jsxs)(h(),{href:"/dashboard",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:text-gray-900 font-medium bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Dashboard"})]}):(0,l.jsx)("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Login"})}var x=a(5884),g=a(6691),f=a.n(g),p=a(1361),v=a(2080);function b(e){let{onLoginClick:t,onLocationClick:a,onCartClick:u,cartItemCount:g,cartTotal:b,handlePaymentComplete:y}=e,[w,j]=(0,n.useState)(!1),{token:N,logout:S}=(0,d.useAuth)(),k=!!N,{settings:_}=(0,v.useSettings)(),C=(null==_?void 0:_.logo_url)||p.Z,{favorites:E=[]}=(0,x.useWishlist)()||{},L=Array.isArray(E)?E.length:0,T=[{href:"/",label:"Shop"},{href:"/packages",label:"Packages"},{href:"/shippingmethods",label:"Shipping Methods"},{href:"/franchise",label:"Franchise With Us"}],[A,P]=(0,n.useState)(""),[M,Z]=(0,n.useState)(!1),I=(0,n.useRef)(null),U=(0,n.useRef)(null),[W,B]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=e=>{M&&U.current&&I.current&&!U.current.contains(e.target)&&!I.current.contains(e.target)&&Z(!1)},t=e=>"Escape"===e.key&&Z(!1);return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[M]);let D=(0,n.useRef)(null),[z,R]=(0,n.useState)(!1),F=(0,n.useRef)(null),O=()=>{F.current&&window.clearTimeout(F.current),R(!0)},J=()=>{F.current=window.setTimeout(()=>R(!1),150)};return(0,n.useEffect)(()=>{B(!0)},[]),(0,l.jsxs)("header",{className:"sticky top-0 left-0 right-0 w-medium bg-white z-50 shadow-sm border-b border-gray-100",children:[(0,l.jsx)("div",{className:"w-full px-0",children:(0,l.jsxs)("div",{className:"w-full flex items-center justify-between h-16 px-3 sm:px-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,l.jsx)(h(),{href:"/",className:"flex items-center","aria-label":"Home",children:(0,l.jsx)(f(),{src:C,alt:"9NUTZ",width:80,height:80,className:"object-contain",priority:!0})}),(0,l.jsxs)("nav",{className:"hidden md:flex items-center space-x-2",children:[T.map(e=>(0,l.jsx)(h(),{href:e.href,className:"text-sm text-gray-700 hover:text-gray-900 px-2 py-1 rounded-md",children:e.label},e.href+e.label)),(0,l.jsxs)("div",{className:"relative",onMouseEnter:O,onMouseLeave:J,children:[(0,l.jsx)("button",{onFocus:O,onBlur:J,"aria-haspopup":"true","aria-expanded":z,className:"text-sm text-gray-700 hover:text-gray-900 px-2 py-1 rounded-md",children:"About Us"}),(0,l.jsxs)("div",{role:"tooltip",className:"absolute left-1/2 transform -translate-x-1/2 mt-2 w-64 md:w-80 p-3 rounded-lg shadow-lg text-sm bg-white border border-gray-100 transition-opacity duration-150 z-50 ".concat(z?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onMouseEnter:O,onMouseLeave:J,children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-800",children:"Our Journey"}),(0,l.jsx)("p",{className:"mt-1 text-gray-600 text-xs leading-relaxed",children:"From a small local shop to a nationwide brand â€” we started with a single idea: premium-quality nuts and snacks delivered with love. Today we combine traditional recipes with modern packaging to bring joy to your snacking moments."}),(0,l.jsx)("div",{className:"mt-2 text-xs",children:(0,l.jsx)(h(),{href:"/about",className:"underline text-sm text-indigo-600",children:"Read full story"})})]})]})]})]}),(0,l.jsx)("div",{className:"hidden md:flex flex-1 justify-center px-2 sm:px-4",children:(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault();let t=(A||"").trim();window.dispatchEvent(new CustomEvent("siteSearch",{detail:t})),P(""),D.current&&D.current.blur()},className:"w-full flex justify-center",role:"search","aria-label":"Site search",children:(0,l.jsxs)("div",{className:"relative w-[240px] sm:w-[500px]",children:[(0,l.jsx)("input",{ref:D,type:"search",value:A,onChange:e=>P(e.target.value),placeholder:"Search...",className:"w-full border border-gray-200 rounded-full py-1.5 pl-4 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200"}),(0,l.jsx)("button",{type:"submit","aria-label":"Search",className:"absolute right-1 top-1/2 -translate-y-1/2 px-2 py-1 text-xs rounded-full hover:bg-gray-100 transition",children:"Search"})]})})}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 relative",children:[(0,l.jsxs)(h(),{href:"/dashboard","aria-label":"Notifications",className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors inline-flex items-center justify-center",children:[(0,l.jsx)(s.Z,{className:"h-5 w-5 text-gray-700"}),(0,l.jsx)("span",{className:"absolute top-1.5 right-1.5 bg-red-500 rounded-full w-2 h-2"})]}),k&&(0,l.jsxs)(h(),{href:"/dashboard?tab=favourites","aria-label":"Favourites",className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors inline-flex items-center justify-center",children:[(0,l.jsx)(i.Z,{className:"h-5 w-5 text-gray-700"}),W&&L>0&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold rounded-full w-5 h-5 flex items-center justify-center","aria-label":"".concat(L," items in wishlist"),children:L>9?"9+":L})]}),k?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{ref:I,onClick:()=>Z(!M),className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-gray-100 transition-colors",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5 text-gray-700"}),(0,l.jsx)("span",{className:"hidden sm:inline text-sm font-medium text-gray-700",children:"Profile"})]}),M&&(0,l.jsxs)("div",{ref:U,className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:[(0,l.jsx)(h(),{href:"/dashboard",onClick:()=>Z(!1),className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Dashboard"}),(0,l.jsx)("button",{onClick:async()=>{try{"function"==typeof S&&await S()}catch(e){}finally{Z(!1),null==y||y()}},className:"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]}):(0,l.jsx)(m,{onLoginClick:t}),(0,l.jsxs)("button",{onClick:u,"aria-label":"Open cart",className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,l.jsx)(c.Z,{className:"h-6 w-6 text-gray-700"}),W&&g>0&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold rounded-full w-5 h-5 flex items-center justify-center","aria-label":"".concat(g," items in cart"),children:g>9?"9+":g})]}),(0,l.jsx)("button",{className:"ml-1 p-2 rounded-md md:hidden hover:bg-gray-100 transition-colors",onClick:()=>j(e=>!e),"aria-expanded":w,"aria-label":"Toggle navigation",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,l.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),w&&(0,l.jsx)("div",{className:"md:hidden border-t border-gray-100 bg-white w-full",children:(0,l.jsxs)("div",{className:"w-full px-3 sm:px-4 py-3",children:[(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),window.dispatchEvent(new CustomEvent("siteSearch",{detail:A.trim()})),P(""),j(!1)},className:"mb-3",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"search",value:A,onChange:e=>P(e.target.value),placeholder:"Search products...",className:"w-full border border-gray-200 rounded-full py-2 pl-4 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200","aria-label":"Search"}),(0,l.jsx)("button",{type:"submit","aria-label":"Search",className:"absolute right-1 top-1/2 -translate-y-1/2 px-3 py-1 rounded-full text-sm hover:bg-gray-100 transition",children:"Search"})]})}),(0,l.jsxs)("ul",{className:"space-y-2",children:[T.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(h(),{href:e.href,className:"block text-sm text-gray-700 hover:text-gray-900 py-2",onClick:()=>j(!1),children:e.label})},"mob-".concat(e.href,"-").concat(e.label))),(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>{j(!1),null==t||t()},className:"w-full text-left text-sm text-gray-700 hover:text-gray-900 py-2",children:"Login"})})]})]})})]})}},2080:function(e,t,a){a.r(t),a.d(t,{SettingsProvider:function(){return f},useSettings:function(){return u}});var l=a(7437),n=a(2265),s=a(8207),i=a(2601);let o="site_settings_v1",c={site_name:"9nutz",email:"info.9nutz@gmail.com",phone:"8790598525",altphone:"9533875237",whatappnumber:"9988776655",address:"suraram colony, muthaiah nagar, Hyderabad, Telangana, 500055",logo_url:null,favicon_url:""},d=(0,n.createContext)({settings:c,loading:!0,refresh:async()=>{}}),u=()=>(0,n.useContext)(d),h=e=>{if(!e)return"";try{let t=String(e);if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:"))return t;let a=(s.Sg||i.env.NEXT_PUBLIC_API_BASE||"").replace(/\/+$/,"");if(!a)return t;if(t.startsWith("/"))return"".concat(a).concat(t);return"".concat(a,"/").concat(t)}catch(t){return String(e)}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t;let a=localStorage.getItem(o);if(!a)return null;let l=JSON.parse(a);if(!l||!l.ts||!l.data)return null;if(!e&&Date.now()-l.ts>(null!==(t=l.ttl)&&void 0!==t?t:6e5))return localStorage.removeItem(o),null;return l.data}catch(e){return null}},x=e=>{try{localStorage.setItem(o,JSON.stringify({ts:Date.now(),ttl:6e5,data:e}))}catch(e){}},g=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;try{if(t&&"function"==typeof t.get)return await t.get(e,{timeout:a})}catch(e){}let l=new AbortController;l.signal;let n=setTimeout(()=>l.abort(),a);try{let t=(s.Sg||i.env.NEXT_PUBLIC_API_BASE||"").replace(/\/+$/,"");t&&"".concat(t,"/").concat(e.replace(/^\/+/,"")),clearTimeout(n);let a=await r.json().catch(()=>null);return{data:a,status:r.status,ok:r.ok}}catch(e){throw clearTimeout(n),e}};function f(e){let{children:t}=e,[a,i]=(0,n.useState)(c),[o,u]=(0,n.useState)(!0),f=e=>{var t,a,l,n,s,i,o,d,u,m,x,g,f,p,v;return e&&"object"==typeof e?{site_name:null!==(a=null!==(t=e.site_name)&&void 0!==t?t:e.name)&&void 0!==a?a:c.site_name,email:null!==(l=e.email)&&void 0!==l?l:c.email,phone:null!==(n=e.phone)&&void 0!==n?n:c.phone,altphone:null!==(i=null!==(s=e.altphone)&&void 0!==s?s:e.alt_phone)&&void 0!==i?i:c.altphone,whatappnumber:null!==(d=null!==(o=e.whatappnumber)&&void 0!==o?o:e.whatsapp)&&void 0!==d?d:c.whatappnumber,address:null!==(u=e.address)&&void 0!==u?u:c.address,logo_url:h(null!==(g=null!==(x=null!==(m=e.logo_url)&&void 0!==m?m:e.logo)&&void 0!==x?x:e.logoUrl)&&void 0!==g?g:""),favicon_url:h(null!==(v=null!==(p=null!==(f=e.favicon_url)&&void 0!==f?f:e.favicon)&&void 0!==p?p:e.faviconUrl)&&void 0!==v?v:""),raw:e}:c},p=async()=>{try{var e,t,a,l;let n=await g("settings",s.ZP,3500),o=null!==(e=null==n?void 0:n.data)&&void 0!==e?e:null,c=null!==(l=null!==(a=null!==(t=null==o?void 0:o.settings)&&void 0!==t?t:null==o?void 0:o.data)&&void 0!==a?a:o)&&void 0!==l?l:null;if(!c||"object"!=typeof c)return;let d=f(c);x(d),i(e=>({...e,...d}))}catch(e){}finally{u(!1)}};return(0,n.useEffect)(()=>{(async()=>{u(!0);let e=m(!0);e&&i(t=>({...t,...e})),u(!1),await p()})()},[]),(0,l.jsx)(d.Provider,{value:{settings:a,loading:o,refresh:p,setSettings:i},children:t})}}}]);